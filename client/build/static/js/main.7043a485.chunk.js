(this["webpackJsonpusing-pre-built-react-components"]=this["webpackJsonpusing-pre-built-react-components"]||[]).push([[0],{64:function(e,t,a){e.exports=a(99)},99:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),o=(a(70),a(13)),u=a(2),s=a(22),m=a(20),i=a.n(m),p=a(26),f=a(4),d=a(52),E=a.n(d),g=a(115);var v=function(e){var t=e.login;return r.a.createElement("header",null,r.a.createElement("h1",null,r.a.createElement(E.a,null),r.a.createElement(o.b,{to:"/",style:{textDecoration:"none",color:"white"}},"Sticky")),t?r.a.createElement(g.a,{onClick:function(){localStorage.removeItem("user")},style:{marginLeft:"auto"},variant:"outlined",component:o.b,to:"/login"},"Logout"):r.a.createElement(g.a,{style:{marginLeft:"auto"},variant:"outlined",component:o.b,to:"/login"},"Login"))};var b=function(){var e=(new Date).getFullYear();return r.a.createElement("footer",null,r.a.createElement("p",null," Copyright \u24d2 shelroy.io  ",e))},h=a(54),w=a.n(h);var O=function(e){return r.a.createElement("div",{className:"note"},r.a.createElement("h1",null,e.title),r.a.createElement("p",null,e.content),r.a.createElement("p",null,e.userID),r.a.createElement("button",{onClick:function(){e.onDelete(e.id)}},r.a.createElement(w.a,null)))},j=a(16),y=a(11),S=a(55),k=a.n(S),N=a(116),x=a(117),C=a(19),D=a.n(C);var I=function(e){var t=Object(n.useState)(!1),a=Object(f.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)({title:"",content:""}),u=Object(f.a)(o,2),s=u[0],m=u[1];function i(e){var t=e.target,a=t.name,n=t.value;m((function(e){return Object(y.a)(Object(y.a)({},e),{},Object(j.a)({},a,n))}))}return r.a.createElement("div",null,r.a.createElement("form",{className:"create-note"},l?r.a.createElement("input",{name:"title",onChange:i,value:s.title,placeholder:"Title"}):null,r.a.createElement("textarea",{onClick:function(){c(!0)},name:"content",onChange:i,value:s.content,placeholder:"Take a note...",rows:l?3:1}),r.a.createElement(x.a,{in:l},r.a.createElement(N.a,{onClick:function(t){e.onAdd(s),D.a.post("add",{title:s.title,content:s.content}).then((function(e){console.log("response",e)})),m({title:"",content:""}),t.preventDefault()}},r.a.createElement(k.a,null)))))};var L=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),a=t[0],l=t[1];function c(e){D.a.post("http://localhost:5000/delete",{id:e}).then((function(e){console.log("response",e)})),l((function(t){return t.filter((function(t,a){return console.log(e),t._id!==e}))}))}return Object(n.useEffect)((function(){Object(p.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("http://localhost:5000/select");case 2:t=e.sent,l(t.data);case 4:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement("div",null,r.a.createElement(v,{login:!0}),r.a.createElement(I,{onAdd:function(e){l((function(t){return[].concat(Object(s.a)(t),[e])}))}}),a.map((function(e,t){return r.a.createElement(O,{key:t,id:e._id,title:e.title,content:e.content,onDelete:c})})),r.a.createElement(b,null))},J=a(37);var q=function(){var e=Object(n.useState)({username:"",password:""}),t=Object(f.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),s=Object(f.a)(c,2),m=(s[0],s[1]),d=Object(u.h)();function E(e){var t=e.target,a=t.name,n=t.value;l((function(e){return"username"===a?{username:n,password:e.password}:"password"===a?{username:e.username,password:n}:void 0}))}var g=function(){var e=Object(p.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.post("http://localhost:5000/users/login",{username:a.username,password:a.password});case 3:if(!(t=e.sent).data.token){e.next=8;break}return console.log(t),localStorage.setItem("user",JSON.stringify(t.data)),e.abrupt("return",d("/"));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),m(!0);case 13:case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(v,null),r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Sign in"),r.a.createElement("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),g()}(e)}},r.a.createElement("input",{type:"email",className:"form-input",onChange:E,value:a.username,name:"username",placeholder:"Email",autoComplete:"off",required:!0}),r.a.createElement("input",{type:"password",className:"form-input",onChange:E,value:a.password,name:"password",placeholder:"Password",autoComplete:"off"}),r.a.createElement(J.a,{className:"form-button",variant:"warning",size:"lg",type:"submit"},"Login"),r.a.createElement("div",{className:"bottom-message"},r.a.createElement(o.b,{to:"/register",className:"login-message"},r.a.createElement("p",null,"Signup for a Sticky account "))))),r.a.createElement(b,null))};function T(){var e=Object(n.useState)({username:"",password:""}),t=Object(f.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)({}),s=Object(f.a)(c,2),m=s[0],d=(s[1],Object(n.useState)(!1)),E=Object(f.a)(d,2),g=E[0],h=E[1],w=Object(u.h)();function O(e){var t=e.target,a=t.name,n=t.value;l((function(e){return"username"===a?{username:n,password:e.password}:"password"===a?{username:e.username,password:n}:void 0}))}var j=function(){var e=Object(p.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.post("http://localhost:5000/users/register",{username:a.username,password:a.password});case 3:if(!(t=e.sent).data.token){e.next=8;break}return localStorage.setItem("user",JSON.stringify(t.data)),console.log(t.data.token),e.abrupt("return",w("/"));case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),h(!0);case 14:case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(v,null),r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Sign up"),m.username,g&&r.a.createElement("p",{className:"error"},"Username already taken"),r.a.createElement("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),j()}(e)}},r.a.createElement("input",{type:"email",className:"form-input",onChange:O,value:a.username,name:"username",placeholder:"Enter your Email",autoComplete:"off",id:"username",required:!0}),r.a.createElement("input",{type:"password",className:"form-input",onChange:O,value:a.password,name:"password",placeholder:"Password",autoComplete:"off",required:!0}),r.a.createElement(J.a,{className:"form-button",variant:"warning",size:"lg",type:"submit"},"Register"),r.a.createElement("div",{className:"bottom-message "},r.a.createElement(o.b,{to:"/login",className:"login-message"},r.a.createElement("p",null,"Login to your Sticky account "))))),r.a.createElement(b,null))}var z=a(57),A=function(){var e=Object(n.useState)(null),t=Object(f.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("user");e?Object(z.a)(e).exp<(new Date).getTime()?l(!1):l(!0):l(!1)}),[]),null===a?r.a.createElement(r.a.Fragment,null):a?r.a.createElement(u.b,null):r.a.createElement(u.a,{to:"/login"})};c.a.render(r.a.createElement(o.a,null,r.a.createElement(u.e,null,r.a.createElement(u.c,{exact:!0,path:"register",element:r.a.createElement(T,null)}),r.a.createElement(u.c,{exact:!0,path:"login",element:r.a.createElement(q,null)}),r.a.createElement(u.c,{exact:!0,path:"/",element:r.a.createElement(A,null)},r.a.createElement(u.c,{exact:!0,path:"/",element:r.a.createElement(L,null)})))),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.7043a485.chunk.js.map